[{"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\index.js":"1","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\App.js":"2","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\reportWebVitals.js":"3","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\Inicio.jsx":"4","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\Estadisticas.jsx":"5","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\Transformadores.jsx":"6","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\Logout.jsx":"7","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\RegistrarTransformadores.jsx":"8","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\components\\Sidebar.jsx":"9","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\components\\Navbar.jsx":"10","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\EditarTransformador.jsx":"11","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\ProductorGestor.jsx":"12","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\EditarProductorGestor.jsx":"13","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\RegistrarProductorGestor.jsx":"14","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\TransGestorProductor\\RegistrarTransacciones.jsx":"15","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\TransGestorProductor\\Transacciones.jsx":"16","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\TransGestorProductor\\EditarTransaccion.jsx":"17","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\TransGestorGestor\\RegistrarGestorGestor.jsx":"18","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\TransGestorGestor\\EditarGestorGestor.jsx":"19","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\TransGestorGestor\\GestorGestor.jsx":"20","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\TransGestorExterno\\GestorEntidadExterna.jsx":"21","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\TransGestorExterno\\RegistrarGestorEntidadExterna.jsx":"22","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\TransGestorExterno\\EditarGestorEntidadExterna.jsx":"23","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\Productores\\Productores.jsx":"24","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\Productores\\RegistrarProductores.jsx":"25","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\Productores\\EditarProductores.jsx":"26","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\Gestores\\Gestores.jsx":"27","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\Gestores\\RegistrarGestores.jsx":"28","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\Gestores\\EditarGestor.jsx":"29"},{"size":281,"mtime":1698109792790,"results":"30","hashOfConfig":"31"},{"size":6762,"mtime":1699522568463,"results":"32","hashOfConfig":"31"},{"size":375,"mtime":1698109792795,"results":"33","hashOfConfig":"31"},{"size":7011,"mtime":1698690352103,"results":"34","hashOfConfig":"31"},{"size":182,"mtime":1698118222952,"results":"35","hashOfConfig":"31"},{"size":3936,"mtime":1699522862154,"results":"36","hashOfConfig":"31"},{"size":766,"mtime":1698691061791,"results":"37","hashOfConfig":"31"},{"size":18352,"mtime":1699526155597,"results":"38","hashOfConfig":"31"},{"size":6780,"mtime":1698750981416,"results":"39","hashOfConfig":"31"},{"size":238,"mtime":1698109792788,"results":"40","hashOfConfig":"31"},{"size":8834,"mtime":1698695435153,"results":"41","hashOfConfig":"31"},{"size":3791,"mtime":1698713928793,"results":"42","hashOfConfig":"31"},{"size":0,"mtime":1698710891281,"results":"43","hashOfConfig":"31"},{"size":8048,"mtime":1698714656006,"results":"44","hashOfConfig":"31"},{"size":8581,"mtime":1698751549317,"results":"45","hashOfConfig":"31"},{"size":4258,"mtime":1698752242472,"results":"46","hashOfConfig":"31"},{"size":0,"mtime":1698707369674,"results":"47","hashOfConfig":"31"},{"size":9759,"mtime":1698747559428,"results":"48","hashOfConfig":"31"},{"size":0,"mtime":1698710786918,"results":"49","hashOfConfig":"31"},{"size":3438,"mtime":1698742944509,"results":"50","hashOfConfig":"31"},{"size":3970,"mtime":1699582767226,"results":"51","hashOfConfig":"31"},{"size":13033,"mtime":1699596002033,"results":"52","hashOfConfig":"31"},{"size":5237,"mtime":1698746681580,"results":"53","hashOfConfig":"31"},{"size":3933,"mtime":1699489996389,"results":"54","hashOfConfig":"31"},{"size":12230,"mtime":1699507814954,"results":"55","hashOfConfig":"31"},{"size":6931,"mtime":1699497937920,"results":"56","hashOfConfig":"31"},{"size":3975,"mtime":1699522483843,"results":"57","hashOfConfig":"31"},{"size":16844,"mtime":1699522498623,"results":"58","hashOfConfig":"31"},{"size":10669,"mtime":1699522423214,"results":"59","hashOfConfig":"31"},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},"1ohd3op",{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"73","messages":"74","suppressedMessages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"76","messages":"77","suppressedMessages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","suppressedMessages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"82","messages":"83","suppressedMessages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"85","messages":"86","suppressedMessages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"88","messages":"89","suppressedMessages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"91","messages":"92","suppressedMessages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"94","messages":"95","suppressedMessages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"97","messages":"98","suppressedMessages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"100","messages":"101","suppressedMessages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"103","messages":"104","suppressedMessages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"106","usedDeprecatedRules":"63"},{"filePath":"107","messages":"108","suppressedMessages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"110","messages":"111","suppressedMessages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"113","messages":"114","suppressedMessages":"115","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"116","usedDeprecatedRules":"63"},{"filePath":"117","messages":"118","suppressedMessages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"120","messages":"121","suppressedMessages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"123","messages":"124","suppressedMessages":"125","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"126","messages":"127","suppressedMessages":"128","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"129","messages":"130","suppressedMessages":"131","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"132","messages":"133","suppressedMessages":"134","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"135","messages":"136","suppressedMessages":"137","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"138","messages":"139","suppressedMessages":"140","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"141","messages":"142","suppressedMessages":"143","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"144","messages":"145","suppressedMessages":"146","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"147","messages":"148","suppressedMessages":"149","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\index.js",[],[],["150","151"],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\App.js",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\reportWebVitals.js",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\Inicio.jsx",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\Estadisticas.jsx",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\Transformadores.jsx",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\Logout.jsx",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\RegistrarTransformadores.jsx",["152","153"],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\components\\Sidebar.jsx",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\components\\Navbar.jsx",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\EditarTransformador.jsx",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\ProductorGestor.jsx",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\EditarProductorGestor.jsx",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\RegistrarProductorGestor.jsx",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\TransGestorProductor\\RegistrarTransacciones.jsx",["154","155"],[],"import React, { useState, useEffect } from 'react';\r\nimport '../../styles/registrarTransacciones.css';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst RegistrarTransacciones = () => {\r\n  const [formData, setFormData] = useState({\r\n    gestor_id: 0,\r\n    transformador_id: 0,\r\n    materialId: 0,\r\n    cantidad: 0, // Campo \"cantidad\" agregado\r\n    fecha: '',\r\n    descripcion: '',\r\n    ubicacion: '',\r\n    archivoImagen: null\r\n  });\r\n\r\n  const [gestorIds, setGestorIds] = useState([]);\r\n  const [transformadorIds, setTransformadorIds] = useState([]);\r\n  const [registros, setRegistros] = useState([]);\r\n  const [editandoId, setEditandoId] = useState(null);\r\n  const [errores, setErrores] = useState({});\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:3000/gestor')\r\n      .then((response) => response.json())\r\n      .then((data) => setGestorIds(data.map((gestor) => gestor.id)))\r\n      .catch((error) => console.error('Error al obtener la lista de gestores:', error));\r\n\r\n    fetch('http://localhost:3000/transformador')\r\n      .then((response) => response.json())\r\n      .then((data) => setTransformadorIds(data.map((transformador) => transformador.id)))\r\n      .catch((error) => console.error('Error al obtener la lista de transformadores:', error));\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, files } = e.target;\r\n    if (type === 'file') {\r\n      setFormData({\r\n        ...formData,\r\n        [name]: files[0],\r\n      });\r\n    } else {\r\n      setFormData({\r\n        ...formData,\r\n        [name]: value,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const userConfirmed = window.confirm(\"¿Estás seguro de que deseas enviar el formulario?\");\r\n\r\n    if (userConfirmed) {\r\n      const form = new FormData();\r\n\r\n      for (const key in formData) {\r\n        if (formData[key] !== null) { // Verificar si formData[key] no es null\r\n          if (key === 'archivoImagen') {\r\n            form.append(key, formData[key], formData[key].name);\r\n          } else {\r\n            form.append(key, formData[key]);\r\n          }\r\n        }\r\n      }\r\n\r\n      const requestOptions = {\r\n        method: 'POST',\r\n        body: form,\r\n      };\r\n\r\n      try {\r\n        const response = await fetch('http://localhost:3000/transacciongt', requestOptions);\r\n\r\n        if (response.ok) {\r\n          console.log('Registro exitoso');\r\n          fetchData();\r\n        } else {\r\n          // Aquí accede a los detalles del error proporcionados por el servidor\r\n          const errorData = await response.json();\r\n          console.error('Error al registrar:', response.status, errorData.message);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error al realizar la solicitud:', error);\r\n      }\r\n    } else {\r\n      console.log('Envío del formulario cancelado');\r\n    }\r\n  };\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:3000/transacciongt');\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        setRegistros(result);\r\n      } else {\r\n        console.error('Error al cargar datos de la API');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al realizar la solicitud:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const editarRegistro = async (id) => {\r\n    try {\r\n      const response = await fetch(`http://localhost:3000/transacciongt/${id}`);\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setFormData({ ...data });\r\n        setEditandoId(id);\r\n      } else {\r\n        console.error('Error al obtener detalles del registro');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al realizar la solicitud:', error);\r\n    }\r\n  };\r\n\r\n  const guardarEdicion = async () => {\r\n    const requestOptions = {\r\n      method: 'PUT',\r\n      body: JSON.stringify(formData),\r\n      headers: { 'Content-Type': 'application/json' },\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(`http://localhost:3000/transacciongt/${editandoId}`, requestOptions);\r\n\r\n      if (response.ok) {\r\n        console.log('Edición exitosa');\r\n        fetchData();\r\n      } else {\r\n        console.error('Error al editar el registro');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al realizar la solicitud:', error);\r\n    }\r\n  };\r\n\r\n  const eliminarRegistro = async (id) => {\r\n    try {\r\n      const response = await fetch(`http://localhost:3000/transacciongt/${id}`, {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      if (response.ok) {\r\n        console.log('Eliminación exitosa');\r\n        fetchData();\r\n      } else {\r\n        console.error('Error al eliminar el registro');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al realizar la solicitud:', error);\r\n    }\r\n  };\r\n\r\n  const handleCancelar = () => {\r\n    navigate('/transacciones');\r\n  };\r\n\r\n  return (\r\n    <div className=\"registrar-miembros-page\">\r\n      <h2>Formulario de Registro de Transacciones</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label>Gestor ID</label>\r\n          <select name=\"gestor_id\" value={formData.gestor_id} onChange={handleChange}>\r\n            <option value={0}>Selecciona un gestor</option>\r\n            {gestorIds.map((gestorId) => (\r\n              <option key={gestorId} value={gestorId}>\r\n                {gestorId}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Transformador ID</label>\r\n          <select name=\"transformador_id\" value={formData.transformador_id} onChange={handleChange}>\r\n            <option value={0}>Selecciona un transformador</option>\r\n            {transformadorIds.map((transformadorId) => (\r\n              <option key={transformadorId} value={transformadorId}>\r\n                {transformadorId}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Material ID</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"materialId\"\r\n            value={formData.materialId}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Cantidad</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"cantidad\"\r\n            value={formData.cantidad}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Fecha</label>\r\n          <input\r\n            type=\"date\"\r\n            name=\"fecha\"\r\n            value={formData.fecha}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Descripción</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"descripcion\"\r\n            value={formData.descripcion}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Ubicación</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"ubicacion\"\r\n            value={formData.ubicacion}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Archivo de Imagen</label>\r\n          <input\r\n            type=\"file\"\r\n            name=\"archivoImagen\"\r\n            accept=\"image/*\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <button type=\"submit\" className=\"submit-button\">\r\n            Registrar\r\n          </button>\r\n          {editandoId ? (\r\n            <button onClick={guardarEdicion} className=\"edit-button\">\r\n              Guardar Edición\r\n            </button>\r\n          ) : null}\r\n          <button type=\"button\" className=\"register-button\" onClick={handleCancelar}>\r\n            Cancelar\r\n          </button>\r\n        </div>\r\n      </form>\r\n      <h2>Registros</h2>\r\n      <ul>\r\n        {registros.map((registro) => (\r\n          <li key={registro.id}>\r\n            <span>{registro.transformador.nombre}</span>\r\n            <button onClick={() => editarRegistro(registro.id)} className=\"edit-button\">\r\n              Editar\r\n            </button>\r\n            <button onClick={() => eliminarRegistro(registro.id)} className=\"delete-button\">\r\n              Eliminar\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegistrarTransacciones;\r\n","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\TransGestorProductor\\Transacciones.jsx",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\TransGestorProductor\\EditarTransaccion.jsx",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\TransGestorGestor\\RegistrarGestorGestor.jsx",["156","157","158"],[],"import React, { useState, useEffect } from 'react';\r\nimport '../../styles/registrarTransacciones.css';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst RegistrarGestorGestor = () => {\r\n  const [formData, setFormData] = useState({\r\n    gestorRealizaId: 0,\r\n    gestorRecibeId: 0,\r\n    materialId: 0,\r\n    cantidad: 0,\r\n    fecha: '',\r\n    descripcion: '', // Agregada\r\n    ubicacion: '', // Agregada\r\n    imagen: null,\r\n  });\r\n\r\n  const [gestorIds, setGestorIds] = useState([]);\r\n  const [registros, setRegistros] = useState([]);\r\n  const [editandoId, setEditandoId] = useState(null);\r\n  const [errores, setErrores] = useState([]); // Estado para almacenar errores\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:3000/gestor')\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setGestorIds(data.map((gestor) => gestor.id));\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error al obtener la lista de gestores:', error);\r\n        setErrores([...errores, 'Error al obtener la lista de gestores: ' + error.message]);\r\n      });\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, files } = e.target;\r\n    if (type === 'file') {\r\n      setFormData({\r\n        ...formData,\r\n        [name]: files[0],\r\n      });\r\n    } else {\r\n      setFormData({\r\n        ...formData,\r\n        [name]: value,\r\n      });\r\n    }\r\n  };\r\n\r\n//imagen not null\r\n\r\n  /*const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const userConfirmed = window.confirm(\"¿Estás seguro de que deseas enviar el formulario?\");\r\n\r\n    if (userConfirmed) {\r\n      const form = new FormData();\r\n      for (const key in formData) {\r\n       if (key === 'imagen') {\r\n          form.append(key, formData[key], formData[key].name);\r\n        } else {\r\n          form.append(key, formData[key]);\r\n        }\r\n      }\r\n\r\n      const requestOptions = {\r\n        method: 'POST',\r\n        body: form,\r\n      };\r\n\r\n      try {\r\n        const response = await fetch('http://localhost:3000/transacciongg', requestOptions);\r\n\r\n        if (response.ok) {\r\n          console.log('Registro exitoso');\r\n          fetchData();\r\n        } else {\r\n          console.error('Error al registrar');\r\n          setErrores([...errores, 'Error al registrar: Hubo un problema al registrar el formulario.']);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error al realizar la solicitud:', error);\r\n        setErrores([...errores, 'Error al realizar la solicitud: ' + error.message]);\r\n      }\r\n    } else {\r\n      console.log('Envío del formulario cancelado');\r\n    }\r\n  };*/\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n  \r\n    const userConfirmed = window.confirm(\"¿Estás seguro de que deseas enviar el formulario?\");\r\n  \r\n    if (userConfirmed) {\r\n      const form = new FormData();\r\n      for (const key in formData) {\r\n        if (formData[key] !== null) {\r\n          if (key === 'imagen') {\r\n            form.append(key, formData[key], formData[key].name);\r\n          } else {\r\n            form.append(key, formData[key]);\r\n          }\r\n        }\r\n      }\r\n  \r\n      const requestOptions = {\r\n        method: 'POST',\r\n        body: form,\r\n      };\r\n  \r\n      try {\r\n        const response = await fetch('http://localhost:3000/transacciongg', requestOptions);\r\n  \r\n        if (response.ok) {\r\n          console.log('Registro exitoso');\r\n          fetchData();\r\n        } else {\r\n          console.error('Error al registrar');\r\n          setErrores([...errores, 'Error al registrar: Hubo un problema al registrar el formulario.']);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error al realizar la solicitud:', error);\r\n        setErrores([...errores, 'Error al realizar la solicitud: ' + error.message]);\r\n      }\r\n    } else {\r\n      console.log('Envío del formulario cancelado');\r\n    }\r\n  };\r\n  \r\n\r\n\r\n\r\n  const fetchData = async () => {\r\n    \r\n    try {\r\n      const response = await fetch('http://localhost:3000/transacciongg');\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        setRegistros(result);\r\n      } else {\r\n        console.error('Error al cargar datos de la API');\r\n        setErrores([...errores, 'Error al cargar datos de la API: No se pudieron cargar los registros.']);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al realizar la solicitud:', error);\r\n      setErrores([...errores, 'Error al realizar la solicitud: ' + error.message]);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const editarRegistro = async (id) => {\r\n    try {\r\n      const response = await fetch(`http://localhost:3000transacciongg/${id}`);\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setFormData({ ...data });\r\n        setEditandoId(id);\r\n      } else {\r\n        console.error('Error al obtener detalles del registro');\r\n        setErrores([...errores, 'Error al obtener detalles del registro: No se pudieron obtener los detalles.']);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al realizar la solicitud:', error);\r\n      setErrores([...errores, 'Error al realizar la solicitud: ' + error.message]);\r\n    }\r\n  };\r\n\r\n  const eliminarRegistro = async (id) => {\r\n    try {\r\n      const response = await fetch(`http://localhost:3000transacciongg/${id}`, {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      if (response.ok) {\r\n        console.log('Eliminación exitosa');\r\n        fetchData();\r\n      } else {\r\n        console.error('Error al eliminar el registro');\r\n        setErrores([...errores, 'Error al eliminar el registro: No se pudo eliminar el registro.']);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al realizar la solicitud:', error);\r\n      setErrores([...errores, 'Error al realizar la solicitud: ' + error.message]);\r\n    }\r\n  };\r\n\r\n  const handleCancelar = () => {\r\n    navigate('/gestorGestor');\r\n  };\r\n\r\n  return (\r\n    <div className=\"registrar-miembros-page\">\r\n      <h2>Formulario de Registro de Gestor - Gestor</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label>Gestor Realiza</label>\r\n          <select name=\"gestorRealizaId\" value={formData.gestorRealizaId} onChange={handleChange}>\r\n            <option value={0}>Selecciona un gestor</option>\r\n            {gestorIds.map((gestorId) => (\r\n              <option key={gestorId} value={gestorId}>\r\n                {gestorId}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Gestor Recibe</label>\r\n          <select name=\"gestorRecibeId\" value={formData.gestorRecibeId} onChange={handleChange}>\r\n            <option value={0}>Selecciona un gestor</option>\r\n            {gestorIds\r\n              .filter((gestorId) => gestorId !== formData.gestorRealizaId)\r\n              .map((gestorId) => (\r\n                <option key={gestorId} value={gestorId}>\r\n                  {gestorId}\r\n                </option>\r\n              ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Material ID</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"materialId\"\r\n            value={formData.materialId}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Cantidad</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"cantidad\"\r\n            value={formData.cantidad}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Fecha</label>\r\n          <input\r\n            type=\"date\"\r\n            name=\"fecha\"\r\n            value={formData.fecha}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Descripción</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"descripcion\"\r\n            value={formData.descripcion}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Ubicación</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"ubicacion\"\r\n            value={formData.ubicacion}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Imagen</label>\r\n          <input\r\n            type=\"file\"\r\n            name=\"imagen\"\r\n            accept=\"image/*\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <button type=\"submit\" className=\"submit-button\">\r\n            Registrar\r\n          </button>\r\n          \r\n          <button type=\"button\" className=\"register-button\" onClick={handleCancelar}>\r\n            Cancelar\r\n          </button>\r\n        </div>\r\n      </form>\r\n      <h2>Registros</h2>\r\n      <ul>\r\n      {registros.map((registro) => (\r\n          <li key={registro.id}>\r\n            <span>{registro.gestorRealizaId}, {registro.cantidad}</span>\r\n            <button onClick={() => editarRegistro(registro.id)} className=\"edit-button\">\r\n              Editar\r\n            </button>\r\n            <button onClick={() => eliminarRegistro(registro.id)} className=\"delete-button\">\r\n              Eliminar\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      {errores.length > 0 && (\r\n        <div className=\"errores\">\r\n          <h2>Errores:</h2>\r\n          <ul>\r\n            {errores.map((error, index) => (\r\n              <li key={index}>{error}</li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegistrarGestorGestor;\r\n\r\n","C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\TransGestorGestor\\EditarGestorGestor.jsx",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\TransGestorGestor\\GestorGestor.jsx",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\TransGestorExterno\\GestorEntidadExterna.jsx",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\TransGestorExterno\\RegistrarGestorEntidadExterna.jsx",["159","160","161","162","163"],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\TransGestorExterno\\EditarGestorEntidadExterna.jsx",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\Productores\\Productores.jsx",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\Productores\\RegistrarProductores.jsx",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\Productores\\EditarProductores.jsx",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\Gestores\\Gestores.jsx",[],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\Gestores\\RegistrarGestores.jsx",["164","165"],[],"C:\\Users\\JULIAN C\\Desktop\\PI2.5\\PI2\\src\\pages\\Gestores\\EditarGestor.jsx",["166","167"],[],{"ruleId":"168","replacedBy":"169"},{"ruleId":"170","replacedBy":"171"},{"ruleId":"172","severity":1,"message":"173","line":12,"column":10,"nodeType":"174","messageId":"175","endLine":12,"endColumn":19},{"ruleId":"172","severity":1,"message":"176","line":13,"column":10,"nodeType":"174","messageId":"175","endLine":13,"endColumn":21},{"ruleId":"172","severity":1,"message":"177","line":21,"column":10,"nodeType":"174","messageId":"175","endLine":21,"endColumn":17},{"ruleId":"172","severity":1,"message":"178","line":21,"column":19,"nodeType":"174","messageId":"175","endLine":21,"endColumn":29},{"ruleId":"172","severity":1,"message":"179","line":19,"column":10,"nodeType":"174","messageId":"175","endLine":19,"endColumn":20},{"ruleId":"180","severity":1,"message":"181","line":33,"column":6,"nodeType":"182","endLine":33,"endColumn":8,"suggestions":"183"},{"ruleId":"180","severity":1,"message":"184","line":154,"column":6,"nodeType":"182","endLine":154,"endColumn":8,"suggestions":"185"},{"ruleId":"172","severity":1,"message":"186","line":22,"column":10,"nodeType":"174","messageId":"175","endLine":22,"endColumn":23},{"ruleId":"172","severity":1,"message":"187","line":22,"column":25,"nodeType":"174","messageId":"175","endLine":22,"endColumn":41},{"ruleId":"180","severity":1,"message":"184","line":49,"column":6,"nodeType":"182","endLine":49,"endColumn":8,"suggestions":"188"},{"ruleId":"180","severity":1,"message":"189","line":56,"column":6,"nodeType":"182","endLine":56,"endColumn":25,"suggestions":"190"},{"ruleId":"172","severity":1,"message":"191","line":111,"column":9,"nodeType":"174","messageId":"175","endLine":111,"endColumn":29},{"ruleId":"172","severity":1,"message":"192","line":254,"column":10,"nodeType":"174","messageId":"175","endLine":254,"endColumn":33},{"ruleId":"172","severity":1,"message":"193","line":254,"column":35,"nodeType":"174","messageId":"175","endLine":254,"endColumn":61},{"ruleId":"172","severity":1,"message":"194","line":50,"column":9,"nodeType":"174","messageId":"175","endLine":50,"endColumn":38},{"ruleId":"172","severity":1,"message":"195","line":59,"column":9,"nodeType":"174","messageId":"175","endLine":59,"endColumn":43},"no-native-reassign",["196"],"no-negated-in-lhs",["197"],"no-unused-vars","'useParams' is defined but never used.","Identifier","unusedVar","'useNavigate' is defined but never used.","'errores' is assigned a value but never used.","'setErrores' is assigned a value but never used.","'editandoId' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'errores'. Either include it or remove the dependency array. You can also do a functional update 'setErrores(e => ...)' if you only need 'errores' in the 'setErrores' call.","ArrayExpression",["198"],"React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.",["199"],"'gestorNombres' is assigned a value but never used.","'setGestorNombres' is assigned a value but never used.",["200"],"React Hook useEffect has a missing dependency: 'fetchMaterials'. Either include it or remove the dependency array.",["201"],"'handleGestorIdChange' is assigned a value but never used.","'materialesSeleccionados' is assigned a value but never used.","'setMaterialesSeleccionados' is assigned a value but never used.","'handlePuntosRecoleccionChange' is assigned a value but never used.","'handleMaterialesRecolectadosChange' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"202","fix":"203"},{"desc":"204","fix":"205"},{"desc":"204","fix":"206"},{"desc":"207","fix":"208"},"Update the dependencies array to be: [errores]",{"range":"209","text":"210"},"Update the dependencies array to be: [fetchData]",{"range":"211","text":"212"},{"range":"213","text":"212"},"Update the dependencies array to be: [fetchMaterials, formData.gestorId]",{"range":"214","text":"215"},[1120,1122],"[errores]",[4568,4570],"[fetchData]",[1708,1710],[1871,1890],"[fetchMaterials, formData.gestorId]"]